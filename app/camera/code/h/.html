<!DOCTYPE html>
<html lang="en">
    <head>
        <title>PerfoByte Camera</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">

        {% if mode===1 %}
            <script type="text/javascript">
                navigator.serviceWorker.register('/s')
            </script>
        {% endif %}
        <link rel="icon" href="/f/image/x-icon/favicon.ico" type="image/x-icon">
        <link href="/f/text/css/{{mode|safe}}.css" rel="stylesheet" />
    </head>
    <body>
        <template>
            <li class="audv">
                <button><div></div><span></span></button>
            </li>
        </template>
        
        <div id="ap">
            <input class="i" type="file" accept="image/png, image/jpeg">
            <input class="v" type="file" accept="video/webm, video/mp4" />
            <canvas></canvas>
        </div>

        <div id="camera">
            <video autoplay playsinline loop muted></video>
            <button id="cm_ca" class="sm">
                <svg class="sm" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                    <line fill="none" stroke='currentColor'stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="7" x2="25" y1="7" y2="25"/>
                    <line fill="none" stroke='currentColor'stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="7" x2="25" y1="25" y2="7"/>
                </svg>
            </button>

            <div id="cm_sh">
                <button class="nc">
                    <div></div>
                </button>
            </div>
            <div id="cm_ce">
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                        <line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="3" x2="12" y1="16" y2="25"/>
                        <line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="12" x2="29" y1="25" y2="7"/>
                    </svg>
                </button>
                <button >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
                        <line fill="none" stroke='currentColor'stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="7" x2="25" y1="7" y2="25"/>
                        <line fill="none" stroke='currentColor'stroke-linecap="round" stroke-linejoin="round" stroke-width="2px" x1="7" x2="25" y1="25" y2="7"/>
                    </svg>
                </button>
            </div>
            
            <button id="cm_sw" class="sm nc">
                <svg class="sm"xmlns="http://www.w3.org/2000/svg" fill="currentColor"viewBox="0 0 32 32" version="1.1">
                    <path d="M30.445 13.837c-0.085-0.616-0.608-1.085-1.24-1.085-0.691 0-1.251 0.56-1.251 1.251 0 0.056 0.004 0.112 0.011 0.166l-0.001-0.006c0.071 0.505 0.111 1.089 0.111 1.682 0 7.044-5.707 12.755-12.749 12.762h-0.001c-0.009 0-0.020 0-0.030 0-3.771 0-7.155-1.653-9.469-4.273l-0.012-0.014h4.582c0.69 0 1.25-0.56 1.25-1.25s-0.56-1.25-1.25-1.25v0h-7.071c-0.035 0-0.064 0.017-0.098 0.020-0.080 0.009-0.152 0.024-0.222 0.046l0.009-0.002c-0.099 0.023-0.185 0.055-0.266 0.095l0.007-0.003c-0.024 0.012-0.051 0.012-0.075 0.027-0.036 0.030-0.069 0.060-0.1 0.091l-0 0c-0.073 0.054-0.137 0.113-0.195 0.178l-0.001 0.001c-0.155 0.178-0.258 0.405-0.28 0.656l-0 0.004c-0.010 0.037-0.020 0.084-0.027 0.131l-0.001 0.006v7.072c0 0.69 0.56 1.25 1.25 1.25s1.25-0.56 1.25-1.25v0-3.471c2.736 2.741 6.518 4.436 10.697 4.436 0.019 0 0.037-0 0.056-0h-0.003c8.418-0.009 15.24-6.831 15.25-15.248v-0.001c-0-0.713-0.048-1.414-0.14-2.102l0.009 0.080zM3.12 19.393c0.059 0 0.117-0.004 0.173-0.012l-0.006 0.001c0.616-0.084 1.085-0.606 1.085-1.238 0-0.058-0.004-0.116-0.012-0.172l0.001 0.006c-0.072-0.507-0.112-1.093-0.112-1.689 0-7.043 5.708-12.752 12.75-12.755h0c0.009-0 0.019-0 0.029-0 3.771 0 7.156 1.653 9.469 4.274l0.012 0.014h-4.581c-0.69 0-1.25 0.56-1.25 1.25s0.56 1.25 1.25 1.25h7.072c0.030 0 0.056-0.015 0.085-0.017 0.179-0.024 0.342-0.071 0.492-0.14l-0.011 0.004c0.025-0.013 0.053-0.013 0.078-0.028 0.037-0.030 0.070-0.060 0.101-0.092l0-0c0.073-0.054 0.137-0.112 0.194-0.177l0.001-0.001c0.093-0.116 0.171-0.251 0.226-0.396l0.003-0.010c0.024-0.073 0.042-0.158 0.050-0.246l0-0.005c0.011-0.038 0.021-0.086 0.028-0.135l0.001-0.006v-7.071c0-0.69-0.56-1.25-1.25-1.25s-1.25 0.56-1.25 1.25v0 3.472c-2.736-2.742-6.52-4.439-10.699-4.439-0.018 0-0.036 0-0.055 0h0.003c-8.423 0.005-15.25 6.835-15.25 15.259 0 0.711 0.049 1.411 0.143 2.096l-0.009-0.079c0.085 0.614 0.606 1.083 1.237 1.084h0z"/>
                </svg>
            </button>

            <div id="cm_mo">
                <button style="left:64px;" data-a="0" class="a">Photo</button>
                <button style="left:128px" data-a="1" class>Video</button>
            </div>

            <button id="cm_au">
                <svg class="sm" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 1024 1024">
                    <path d="M512 624c93.9 0 170-75.2 170-168V232c0-92.8-76.1-168-170-168s-170 75.2-170 168v224c0 92.8 76.1 168 170 168zm330-170c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 140.3-113.7 254-254 254S258 594.3 258 454c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 168.7 126.6 307.9 290 327.6V884H326.7c-13.7 0-24.7 14.3-24.7 32v36c0 4.4 2.8 8 6.2 8h407.6c3.4 0 6.2-3.6 6.2-8v-36c0-17.7-11-32-24.7-32H548V782.1c165.3-18 294-158 294-328.1z"/>
                </svg>
            </button>

            <div id="cm_aud">
                <div>
                    <h1>Audio input device</h1>
                    <ul></ul>
                </div>
            </div>
            
            <button id="cm_pl">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path d="M21.4086 9.35258C23.5305 10.5065 23.5305 13.4935 21.4086 14.6474L8.59662 21.6145C6.53435 22.736 4 21.2763 4 18.9671L4 5.0329C4 2.72368 6.53435 1.26402 8.59661 2.38548L21.4086 9.35258Z" fill="currentColor"/>
                </svg>
            </button>
            
            <div id="cm_ts">
                0:00
            </div>

            <button id="cm_pa">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 32 32">
                    <path d="M5.92 24.096q0 0.832 0.576 1.408t1.44 0.608h4.032q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-4.032q-0.832 0-1.44 0.576t-0.576 1.44v16.16zM18.016 24.096q0 0.832 0.608 1.408t1.408 0.608h4.032q0.832 0 1.44-0.608t0.576-1.408v-16.16q0-0.832-0.576-1.44t-1.44-0.576h-4.032q-0.832 0-1.408 0.576t-0.608 1.44v16.16z"/>
                </svg>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path d="M21.4086 9.35258C23.5305 10.5065 23.5305 13.4935 21.4086 14.6474L8.59662 21.6145C6.53435 22.736 4 21.2763 4 18.9671L4 5.0329C4 2.72368 6.53435 1.26402 8.59661 2.38548L21.4086 9.35258Z" fill="currentColor"/>
                </svg>
            </button>

            <button id="cm_fi">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M23 4C23 2.34315 21.6569 1 20 1H4C2.34315 1 1 2.34315 1 4V20C1 21.6569 2.34315 23 4 23H20C21.6569 23 23 21.6569 23 20V4ZM21 4C21 3.44772 20.5523 3 20 3H4C3.44772 3 3 3.44772 3 4V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V4Z" fill="currentColor"/>
                    <path d="M4.80665 17.5211L9.1221 9.60947C9.50112 8.91461 10.4989 8.91461 10.8779 9.60947L14.0465 15.4186L15.1318 13.5194C15.5157 12.8476 16.4843 12.8476 16.8682 13.5194L19.1451 17.5039C19.526 18.1705 19.0446 19 18.2768 19H5.68454C4.92548 19 4.44317 18.1875 4.80665 17.5211Z" fill="currentColor"/>
                    <path d="M18 8C18 9.10457 17.1046 10 16 10C14.8954 10 14 9.10457 14 8C14 6.89543 14.8954 6 16 6C17.1046 6 18 6.89543 18 8Z" fill="currentColor"/>
                </svg>
            </button>
        </div>
        
        <script type="module" src="/f/text/javascript/{{mode|safe}}.js"></script>
    </body>
</html>