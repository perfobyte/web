{
  "version": 3,
  "sources": ["state/fs.js", "conf/i.js", "f/action/read.js", "f/action/write.js", "f/then/access.js", "f/then/after_access.js", "f/then/file.js", "f/buffer_transfer.js", "on/message.js", "0.js"],
  "sourcesContent": ["\n\nexport default {\n    file: null,\n    access: null,\n    root: null,\n\n    block_size: 0,\n};\n", "\nexport var\n    response = [\n        0,\n        0,\n    ],\n\n    small_response = [0],\n\n    file_config = {\n        create: false,\n    },\n\n    payload = {\n        at: 0,\n    }\n;", "export default (\n    (access, buffer, payload) => (access.read(buffer, payload))\n);", "export default (\n    (access, buffer, payload) => (access.write(buffer, payload))\n);", "import {fs_state} from '../../state/i.js';\n\nexport default (\n    (new_access) => {\n        return void (\n            fs_state.access = new_access\n        );\n    }\n);\n", "import {small_response} from '../../conf/i.js';\nimport {state} from '../../state/i.js';\n\nexport default (\n    () => {\n        return (\n            globalThis.postMessage(small_response)\n        );\n    }\n);\n", "import {fs_state} from '../../state/i.js';\n\nexport default (\n    (new_file) => {\n        return (\n            (fs_state.file = new_file)\n            .createSyncAccessHandle()\n        );\n    }\n);\n", "export default (\n    (\n        buffer_view,\n        \n        buffer_offset,\n        buffer_end,\n        file_offset,\n        \n        action,\n        access,\n        payload,\n    ) => {\n        return (\n            (payload.at = file_offset),\n\n            action(\n                access,\n\n                buffer_view\n                .subarray(buffer_offset,buffer_end),\n\n                payload\n            )\n        );\n    }\n);\n", "import {fs_state} from '../state/i.js';\nimport {response, payload, file_config, small_response} from '../conf/i.js';\nimport {\n    buffer_transfer,\n\n    action_read,\n    action_write,\n\n    file_then,\n    access_then,\n    after_access_then,\n} from '../f/i.js';\n\nexport default (\n    (event) => {\n        var\n            self = event.currentTarget,\n            \n            data = event.data,\n\n            operation_type = data.type,\n            operation_id = data.id,\n\n            access = fs_state.access\n        ;\n        return (\n            \n\n            (operation_type === 0)\n            ? (\n                (response[0] = operation_id),\n                (response[1] = buffer_transfer(\n                    new Uint8Array(data.buffer),\n                    data.buffer_offset,\n                    data.buffer_end,\n                    data.file_offset,\n                    action_read,\n                    access,\n                    payload,\n                )),\n                self.postMessage(response)\n            )\n            :\n            (operation_type === 1)\n            ? (\n                (response[0] = operation_id),\n                (response[1] = buffer_transfer(\n                    new Uint8Array(data.buffer),\n                    data.buffer_offset,\n                    data.buffer_end,\n                    data.file_offset,\n                    action_write,\n                    access,\n                    payload,\n                )),\n                access.flush(),\n                self.postMessage(response)\n            )\n            :\n            (operation_type === 2)\n            ? (\n                (response[0] = operation_id),\n                (response[1] = buffer_transfer(\n                    new Uint8Array(data.buffer),\n                    data.buffer_offset,\n                    data.buffer_end,\n                    data.file_offset,\n                    action_write,\n                    access,\n                    payload,\n                )),\n                self.postMessage(response)\n            )\n            :\n            (operation_type === 3)\n            ? (\n                (small_response[0] = operation_id),\n                (fs_state.block_size = data.block_size),\n                (file_config.create = data.file_create),\n\n                fs_state\n                .root\n                .getFileHandle(data.file_name, file_config)\n                .then(file_then)\n                .then(access_then)\n                .then(after_access_then)\n            )\n            : (\n                (small_response[0] = operation_id),\n                access.flush(),\n                access.close(),\n\n                (\n                    fs_state.file =\n                    fs_state.access =\n                        null\n                ),\n                self.postMessage(small_response)\n            )\n        );\n    }\n);\n", "import {\n    on_message,\n} from './on/i.js';\n\nimport {fs_state} from './state/i.js';\n\nglobalThis.navigator.storage.getDirectory()\n.then(\n    (root) => (\n        (fs_state.root = root),\n        (globalThis.onmessage = on_message)\n    )\n);\n"],
  "mappings": "MAEA,IAAOA,EAAQ,CACX,KAAM,KACN,OAAQ,KACR,KAAM,KAEN,WAAY,CAChB,ECPO,IACHC,EAAW,CACP,EACA,CACJ,EAEAC,EAAiB,CAAC,CAAC,EAEnBC,EAAc,CACV,OAAQ,EACZ,EAEAC,EAAU,CACN,GAAI,CACR,ECfJ,IAAOC,EACH,CAACC,EAAQC,EAAQC,IAAaF,EAAO,KAAKC,EAAQC,CAAO,ECD7D,IAAOC,EACH,CAACC,EAAQC,EAAQC,IAAaF,EAAO,MAAMC,EAAQC,CAAO,ECC9D,IAAOC,EACFC,GACU,KACHC,EAAS,OAASD,GCF9B,IAAOE,EACH,IAEQ,WAAW,YAAYC,CAAc,ECJjD,IAAOC,EACFC,IAEQC,EAAS,KAAOD,GAChB,uBAAuB,ECNpC,IAAOE,EACH,CACIC,EAEAC,EACAC,EACAC,EAEAC,EACAC,EACAC,KAGKA,EAAQ,GAAKH,EAEdC,EACIC,EAEAL,EACC,SAASC,EAAcC,CAAU,EAElCI,CACJ,GCTZ,IAAOC,EACFC,GAAU,CACP,IACIC,EAAOD,EAAM,cAEbE,EAAOF,EAAM,KAEbG,EAAiBD,EAAK,KACtBE,EAAeF,EAAK,GAEpBG,EAASC,EAAS,OAEtB,OAGKH,IAAmB,GAEfI,EAAS,CAAC,EAAIH,EACdG,EAAS,CAAC,EAAIC,EACX,IAAI,WAAWN,EAAK,MAAM,EAC1BA,EAAK,cACLA,EAAK,WACLA,EAAK,YACLO,EACAJ,EACAK,CACJ,EACAT,EAAK,YAAYM,CAAQ,GAG5BJ,IAAmB,GAEfI,EAAS,CAAC,EAAIH,EACdG,EAAS,CAAC,EAAIC,EACX,IAAI,WAAWN,EAAK,MAAM,EAC1BA,EAAK,cACLA,EAAK,WACLA,EAAK,YACLS,EACAN,EACAK,CACJ,EACAL,EAAO,MAAM,EACbJ,EAAK,YAAYM,CAAQ,GAG5BJ,IAAmB,GAEfI,EAAS,CAAC,EAAIH,EACdG,EAAS,CAAC,EAAIC,EACX,IAAI,WAAWN,EAAK,MAAM,EAC1BA,EAAK,cACLA,EAAK,WACLA,EAAK,YACLS,EACAN,EACAK,CACJ,EACAT,EAAK,YAAYM,CAAQ,GAG5BJ,IAAmB,GAEfS,EAAe,CAAC,EAAIR,EACpBE,EAAS,WAAaJ,EAAK,WAC3BW,EAAY,OAASX,EAAK,YAE3BI,EACC,KACA,cAAcJ,EAAK,UAAWW,CAAW,EACzC,KAAKC,CAAS,EACd,KAAKC,CAAW,EAChB,KAAKC,CAAiB,IAGtBJ,EAAe,CAAC,EAAIR,EACrBC,EAAO,MAAM,EACbA,EAAO,MAAM,EAGTC,EAAS,KACTA,EAAS,OACL,KAERL,EAAK,YAAYW,CAAc,EAG3C,EC9FJ,WAAW,UAAU,QAAQ,aAAa,EACzC,KACIK,IACIC,EAAS,KAAOD,EAChB,WAAW,UAAYE,EAEhC",
  "names": ["fs_default", "response", "small_response", "file_config", "payload", "read_default", "access", "buffer", "payload", "write_default", "access", "buffer", "payload", "access_default", "new_access", "fs_default", "after_access_default", "small_response", "file_default", "new_file", "fs_default", "buffer_transfer_default", "buffer_view", "buffer_offset", "buffer_end", "file_offset", "action", "access", "payload", "message_default", "event", "self", "data", "operation_type", "operation_id", "access", "fs_default", "response", "buffer_transfer_default", "read_default", "payload", "write_default", "small_response", "file_config", "file_default", "access_default", "after_access_default", "root", "fs_default", "message_default"]
}
